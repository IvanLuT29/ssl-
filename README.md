Для отримання нового сертифіката для  нового деплойменту або сервісу через cert-manager в Kubernetes,  потрібно вказати у вашому ресурсі Ingress або CertificateRequest, що  новий сертифікат для  хосту або сервісу. Ось кроки для цього:

1. Додати Ingress або CertificateRequest

    - Ви можете використовувати або Ingress або CertificateRequest, залежно від того, як  плануєте отримати сертифікат.

    Ingress: Якщо  використовувати Ingress для  додатку,потрібно  просто додати або оновити Ingress ресурс і вказати новий хост, який потребує сертифікат.


    Для cert-manager це означатиме, що потрібно взяти сертифікат для нового хосту `new-app.example.com`.

    

2. Запустити обробник сертифікату:

    cert-manager виявить новий Ingress або CertificateRequest, якщо налаштувати його правильно, і спробує автоматично запитати сертифікат. Після вдалого видачі сертифікату, він буде збережений в підказаному `secretName`.
    шлях зберігання : /etc/kubernetes/secrets/namespace_name/secret_name


3.Тепер новий деплоймент або сервіс буде мати SSL/TLS захист за допомогою нового сертифікату, який було автоматично виготовлено через cert-manager.

cert-manager слідкуватиме за строком дії сертифікатів та, за потреби, оновлюватиме їх або запитуватиме новий сертифікат.